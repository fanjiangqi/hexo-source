---
title: HTTPS原理简单理解 
date: 2017-06-09 16.30.00
tags: [技术,网络]
keywords: https
---
> 面试时经常会问是否了解https，基本上面试官要求的不是特别难，但如果没有接触过，还真的不知道。下面是我总结的https的简单原理。

HTTPS又叫作HTTP over Transport Layer Security (TLS)， HTTP over SSL，是被广泛运用于互联网的安全通信协议。HTTPS使用了非对称加密，对称加密以及HASH算法。HTTPS在传输数据之前需要客户端与服务器之间进行一次握手，握手过程具体如下：
1. 客户端将自己支持的一套加密规则发送给服务器。
2. 服务器从中选出一组加密算法和HASH算法，并将自己的身份信息以证书的形式发回给客户端。（证书里面包含了网站地址，**加密公钥**，以及证书的颁发机构等信息）
3. 浏览器获得证书之后：
 3.1 验证证书的合法性（颁发证书的机构是否合法，证书中包含的网站地址是否与正在访问的地址一致等），如果证书受信任，则浏览器栏里面会显示一个小锁头，否则会给出证书不受信的提示。 
 3.2  如果证书受信任，或者是用户接受了不受信的证书，**浏览器会生成一串随机数的密码（用于对称加密），并用证书中提供的公钥加密。**
 3.3 **使用约定好的hash算法计算握手信息，并使用生成的随机数对握手消息进行加密，最后将3个信息发送给服务器（公钥加密的随机密码，hash计算的握手信息，随机密码加密的握手信息）**
 4. 服务器接收到客户端发来的数据后：
  4.1  使用自己的私钥将信息解密取出密码，使用密码解密浏览器发来的握手消息，并验证HASH是否与浏览器发来的一致。
  4.2 使用密码加密一段握手消息，发送给客户端
5. **客户端解密并计算握手消息的HASH，如果与服务端发来的HASH一致，此时握手过程结束，之后所有的通信数据将由之前浏览器生成的随机密码并利用对称加密算法进行加密。**

> 参考文章：
> 1. https://en.wikipedia.org/wiki/HTTPS
> 2. http://www.cnblogs.com/ttltry-air/archive/2012/08/20/2647898.html
